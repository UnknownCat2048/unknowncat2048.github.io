import{o as re,a as le,I as N,r as O,h as ne,s as P,i as se}from"./Icon.BIo_kQIu.js";import{F as ie,v as S,G as oe,E as ce,H as q,I as fe,J as V,K as F,L as Y,M as L,N as ue,O as de,P as C,Q as z,R as j,T as ve,B as K,V as he,W as pe,y as W,X as me,Y as be,Z as ge,_ as _e,$ as xe,a0 as ke,a1 as we,a2 as ye,p as Ee,l as X,k as Ie,t as ee,a3 as Te,a as G,i as m,e as J,b as Q,f as Ae,h as H,s as T,c as A,m as B,r as M,j as Me}from"./render.CoZbI89g.js";import{b as U}from"./input.dSBB8x-8.js";import{u as Z}from"./url-utils.CMltuS_E.js";import{I as Re}from"./zh_TW.CRuLhh9T.js";function Se(e,t){return t}function Le(e,t,a,s){for(var l=[],n=t.length,r=0;r<n;r++)be(t[r].e,l,!0);var i=n>0&&0===l.length&&null!==a;if(i){var o=a.parentNode;ge(o),o.append(a),s.clear(),y(e,t[0].prev,t[n-1].next)}_e(l,(()=>{for(var a=0;a<n;a++){var l=t[a];i||(s.delete(l.k),y(e,l.prev,l.next)),xe(l.e,!i)}}))}function Ne(e,t,a,s,l,n=null){var r=e,i={flags:t,items:new Map,first:null};S&&oe();var o=null,c=!1;ie((()=>{var e=a(),u=ce(e)?e:null==e?[]:q(e),d=u.length;if(c&&0===d)return;c=0===d;let f=!1;S&&(r.data===fe!==(0===d)&&(r=V(),F(r),Y(!1),f=!0));if(S){for(var v,h=null,m=0;m<d;m++){if(8===L.nodeType&&L.data===ue){r=L,f=!0,Y(!1);break}var p=u[m],b=s(p,m);v=ae(L,i,h,null,p,b,m,l,t),i.items.set(b,v),h=v}d>0&&F(V())}S||He(u,i,r,l,t,!!(de.f&C),s);null!==n&&(0===d?o?z(o):o=j((()=>n(r))):null!==o&&ve(o,(()=>{o=null}))),f&&Y(!0),a()})),S&&(r=L)}function He(e,t,a,s,l,n,r){var i,o,c,u,d,f=e.length,v=t.items,h=t.first,m=null,p=[],b=[];for(d=0;d<f;d+=1)if(c=r(o=e[d],d),void 0!==(u=v.get(c))){if(Be(u,o,d),!!(u.e.f&C)&&z(u.e),u!==h){if(void 0!==i&&i.has(u)){if(p.length<b.length){var g,x=b[0];m=x.prev;var k=p[0],w=p[p.length-1];for(g=0;g<p.length;g+=1)$(p[g],x,a);for(g=0;g<b.length;g+=1)i.delete(b[g]);y(t,k.prev,w.next),y(t,m,k),y(t,w,x),h=x,m=w,d-=1,p=[],b=[]}else i.delete(u),$(u,h,a),y(t,u.prev,u.next),y(t,u,null===m?t.first:m.next),y(t,m,u),m=u;continue}for(p=[],b=[];null!==h&&h.k!==c;)(n||!(h.e.f&C))&&(i??=new Set).add(h),b.push(h),h=h.next;if(null===h)continue;u=h}p.push(u),m=u,h=u.next}else{m=ae(h?h.e.nodes_start:a,t,m,null===m?t.first:m.next,o,c,d,s,l),v.set(c,m),p=[],b=[],h=m.next}if(null!==h||void 0!==i){for(var L=void 0===i?[]:q(i);null!==h;)(n||!(h.e.f&C))&&L.push(h),h=h.next;if(L.length>0){Le(t,L,null,v)}}K.first=t.first&&t.first.e,K.last=m&&m.e}function Be(e,t,a,s){he(e.v,t),e.i=a}function ae(e,t,a,s,l,n,r,i,o){var c=!!(o&ke)?!(o&we)?pe(l):W(l):l,u=o&me?W(r):r,d={i:u,v:c,k:n,a:null,e:null,prev:a,next:s};try{return d.e=j((()=>i(e,c,u)),S),d.e.prev=a&&a.e,d.e.next=s&&s.e,null===a?t.first=d:(a.next=d,a.e.next=d.e),null!==s&&(s.prev=d,s.e.prev=d.e),d}finally{}}function $(e,t,a){for(var s=e.next?e.next.e.nodes_start:a,l=t?t.e.nodes_start:a,n=e.e.nodes_start;n!==s;){var r=ye(n);l.before(n),n=r}}function y(e,t,a){null===t?e.first=a:(t.next=a,t.e.next=a&&a.e),null!==a&&(a.prev=t,a.e.prev=t&&t.e)}var Ce=ee('<a class="transition first-of-type:mt-2 lg:first-of-type:mt-0 group block\n       rounded-xl text-lg px-3 py-2 hover:bg-[var(--btn-plain-bg-hover)] active:bg-[var(--btn-plain-bg-active)]"><div class="transition text-90 inline-flex font-bold group-hover:text-[var(--primary)]"> <!></div> <div class="transition text-sm text-50"><!></div></a>'),De=ee('<div id="search-bar" class="hidden lg:flex transition-all items-center h-11 mr-2 rounded-lg\n      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]\n      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10\n"><!> <input class="transition-all pl-10 text-sm bg-transparent outline-0\n         h-full w-40 active:w-60 focus:w-60 text-black/50 dark:text-white/50 svelte-1gu5h8y"></div> <button aria-label="Search Panel" id="search-switch" class="btn-plain scale-animation lg:!hidden rounded-lg w-11 h-11 active:scale-90"><!></button> <div id="search-panel" class="float-panel float-panel-closed search-panel absolute md:w-[30rem]\ntop-20 left-4 md:left-[unset] right-4 shadow-2xl rounded-2xl p-2"><div id="search-bar-inside" class="flex relative lg:hidden transition-all items-center h-11 rounded-xl\n      bg-black/[0.04] hover:bg-black/[0.06] focus-within:bg-black/[0.06]\n      dark:bg-white/5 dark:hover:bg-white/10 dark:focus-within:bg-white/10\n  "><!> <input placeholder="Search" class="pl-10 absolute inset-0 text-sm bg-transparent outline-0\n               focus:w-60 text-black/50 dark:text-white/50 svelte-1gu5h8y"></div> <!></div>',1);function We(e,t){Ee(t,!1);let a=B(""),s=B(""),l=B([]);Z("/"),Z("/");let n=B(((e,t)=>{}));re((()=>{H(n,(async(e,t)=>{let a=document.getElementById("search-panel");if(!a)return;if(!e&&t)return void a.classList.add("float-panel-closed");let s=[];{const t=await pagefind.search(e);for(const e of t.results)s.push(await e.data())}s.length||!t?(t&&a.classList.remove("float-panel-closed"),H(l,s)):a.classList.add("float-panel-closed")}))}));X((()=>(m(n),m(a))),(()=>{m(n)(m(a),!0)})),X((()=>(m(n),m(s))),(()=>{m(n)(m(s),!1)})),Ie(),le();var r=De(),i=Te(r),o=A(i);N(o,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var c=T(o,2);O(c),G((()=>P(c,"placeholder",se(Re.search)))),M(i);var u=T(i,2),d=A(u);N(d,{icon:"material-symbols:search",class:"text-[1.25rem]"}),M(u);var f=T(u,2),v=A(f),h=A(v);N(h,{icon:"material-symbols:search",class:"absolute text-[1.25rem] pointer-events-none ml-3 transition my-auto text-black/30 dark:text-white/30"});var p=T(h,2);O(p),M(v),Ne(T(v,2),1,(()=>m(l)),Se,((e,t)=>{var a=Ce(),s=A(a),l=A(s,!0),n=T(l);N(n,{icon:"fa6-solid:chevron-right",class:"transition text-[0.75rem] translate-x-1 my-auto text-[var(--primary)]"}),M(s);var r=T(s,2),i=A(r);ne(i,(()=>m(t).excerpt),!1,!1),M(r),M(a),G((()=>{P(a,"href",m(t).url),Me(l,m(t).meta.title)})),Q(e,a)})),M(f),U(c,(()=>m(a)),(e=>H(a,e))),J("focus",c,(()=>m(n)(m(a),!0))),J("click",u,(()=>{document.getElementById("search-panel")?.classList.toggle("float-panel-closed")})),U(p,(()=>m(s)),(e=>H(s,e))),Q(e,r),Ae()}export{We as default};