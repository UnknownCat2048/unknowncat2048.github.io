import{p as u}from"./proxy.-BbAVf_s.js";import{a4 as m,a5 as y,a6 as h,v as _,M as $,G as v,a7 as g,a8 as b,a9 as x,aa as k}from"./render.CoZbI89g.js";function f(t){return(s,...e)=>{var r,o=t(...e);if(_)r=$,v();else{var a=o.render().trim(),n=m(a);r=g(n),s.before(r)}const f=o.setup?.(r);y(r,r),"function"==typeof f&&h(f)}}const p=new WeakMap,M=t=>async(s,e,r,{client:o})=>{if(!t.hasAttribute("ssr"))return;let a,n,l={};for(const[t,s]of Object.entries(r))n??={},"default"===t?(n.default=!0,a=f((()=>({render:()=>`<astro-slot>${s}</astro-slot>`})))):n[t]=f((()=>({render:()=>`<astro-slot name="${t}">${s}</astro-slot>`}))),"default"===t?l.children=f((()=>({render:()=>`<astro-slot>${s}</astro-slot>`}))):l[t]=f((()=>({render:()=>`<astro-slot name="${t}">${s}</astro-slot>`})));const i={...e,children:a,$$slots:n,...l};if(p.has(t))p.get(t).setProps(i);else{const e=j(s,t,i,"only"!==o);p.set(t,e),t.addEventListener("astro:unmount",(()=>e.destroy()),{once:!0})}};function j(t,s,e,r){let o=u(e);const a=(r?b:x)(t,{target:s,props:o});return{setProps(t){Object.assign(o,t);for(const s in o)s in t||delete o[s]},destroy(){k(a)}}}export{M as default};